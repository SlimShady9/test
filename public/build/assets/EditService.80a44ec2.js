import{r as c,j as r,F as O,a as I}from"./app.a05bb740.js";import{g as D,S as f,a as x,b as T,M as h,A as V,U as M,C as k,T as F}from"./ContentForm.5ef51053.js";import{C as w}from"./Card.13955413.js";import{C as y}from"./Container.c590b5fd.js";import{E as e}from"./EstadoServiciosEnum.1def3d76.js";import{T as u}from"./TipoDeServiciosEnum.f8824a38.js";import{A as U}from"./Authenticated.698c9c2d.js";import{r as b,w as L,x as j}from"./FetchContent.89583df9.js";import{g as G,b as J}from"./FetchService.c2091a6a.js";import{R as P}from"./react-loading.7ecf0a06.js";import"./Input.d4906371.js";import"./Label.ac7cf7d7.js";import"./Button.f580da67.js";import"./SelectInput.a046b7ee.js";import"./hoist-non-react-statics.cjs.13665392.js";import"./TipoDeUsuariosEnum.2a2c2a7c.js";import"./FetchUsers.24e7c7e9.js";import"./index.0edb6af2.js";import"./Modal.de185a34.js";import"./TipoDeCargaEnum.513c970d.js";import"./iconBase.17a5e8ee.js";import"./transportes.87cfd211.js";function Ae(a){const{auth:B,serviceId:o}=a,C=[e.SERVICIO_INCIADO,e.SERVICIO_DIRECCION_CONFIRMADA,e.SERVICIO_MENSAJERIA,e.SERVICIO_USUARIOS_ASIGNADOS,e.SERVICIO_CON_CONTENIDO,e.SERVICIO_CON_TAREAS],[p,A]=c.exports.useState(C),[t,i]=c.exports.useState(e.SERVICIO_INCIADO),[m,v]=c.exports.useState(!1),[s,S]=c.exports.useState({service:{},address:{},messaging:{},content:[],orders:[],tasks:[]});c.exports.useEffect(()=>{_()},[]);const _=async()=>{var d={};const[n,q]=await G(o);S(l=>({...l,service:n}));const[N,z]=await J(n.address);if(s.service.id_type_service!==u.LOGISTICA_DE_MENSJERIA&&s.service.id_type_service!==u.GESTION_DOCUMENTAL)var[d,H]=await D(o),[E,K]=await b(o);const[g,Q]=await L(o),[R,W]=await j(o);S({service:n,address:N,messaging:d,content:E||{},orders:g,tasks:R}),v(!0)};return r(O,{children:I(U,{...a,children:[!m&&r(P,{type:"spin",color:"#D3D3D3",height:"10%",width:"10%",className:"m-auto translate-y-2/3"}),m&&r(y,{className:"flex justify-center",children:I(w,{className:"sm:w-3/5",children:[r("h1",{className:"text-2xl font-bold text-center",children:"Crear Servicio"}),r(f,{currentStep:t,steps:p}),r(O,{}),I(x.Provider,{value:{serviceDTO:s,setServiceDTO:S},children:[t===e.SERVICIO_INCIADO&&r(T,{currentStep:t,setNextStep:i,setServicesAvailable:A,service:s.service,isEdit:!0,typeUser:a.auth.user.id_t_user}),t===e.SERVICIO_MENSAJERIA&&r(h,{currentStep:t,setNextStep:i,user:a.auth.user,messaging:s.messaging,isEdit:!0}),t===e.SERVICIO_DIRECCION_CONFIRMADA&&r(V,{api_token:a.api_token,address:s.address,onSubmit:d=>{S(function(n){return{...n,address:d}}),i(e.SERVICIO_MENSAJERIA)},isEdit:!0}),t===e.SERVICIO_USUARIOS_ASIGNADOS&&r(M,{currentStep:t,setNextStep:i,users:s.orders}),t===e.SERVICIO_CON_CONTENIDO&&r(k,{currentStep:t,setNextStep:i,content:s.content,isEdit:!0}),t===e.SERVICIO_CON_TAREAS&&r(F,{api_token:a.api_token,currentStep:t,setNextStep:i,pTasks:s.tasks,isEdit:!0,user:a.auth.user})]})]})})]})})}export{Ae as default};

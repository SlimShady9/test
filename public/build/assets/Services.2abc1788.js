import{r,a as o,F as d,j as t,L as v}from"./app.2e010af2.js";import{A as x}from"./Authenticated.f59fa5ce.js";import{C as g}from"./Container.5bd4a421.js";import{a as m}from"./index.d8622dc5.js";import{h as S,e as b}from"./index.esm.11fd6215.js";import{Q as N}from"./index.es.625c619b.js";import{G as _}from"./iconBase.dd362700.js";import{B as y}from"./Button.898074c4.js";import{B as E}from"./ButtonGroup.46ed766e.js";import{t as C}from"./EstadoServiciosEnum.1ee665af.js";import{t as B}from"./TipoDeServiciosEnum.333dc939.js";import"./TipoDeUsuariosEnum.fd1e81a1.js";import"./transportes.87cfd211.js";import"./hoist-non-react-statics.cjs.13665392.js";function w(s){return _({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"40",d:"M160 164s1.44-33 33.54-59.46C212.6 88.83 235.49 84.28 256 84c18.73-.23 35.47 2.94 45.48 7.82C318.59 100.2 352 120.6 352 164c0 45.67-29.18 66.37-62.35 89.18S248 298.36 248 324"}},{tag:"circle",attr:{cx:"248",cy:"399.99",r:"32"}}]})(s)}const F=s=>{const[i,n]=r.exports.useState(""),[c,u]=r.exports.useState([]),[p,l]=r.exports.useState([]),h=async()=>{try{const e=s.auth.user.id;if(s.auth.user.id_t_user==1){const a=await m.get("/api/service");u(a.data),l(a.data)}else{const a=await m.get(`/api/service/${e}/serviceByUser`);u(a.data),l(a.data)}}catch(e){console.log(e)}},f=[{name:"No. de Gu\xEDa / Opciones",grow:2.5,center:!0,cell:e=>t(d,{children:o("div",{className:"grid gap-2 m-1",children:[t("div",{className:"text-center text-lg font-bold",children:e.tracking_id}),t("div",{className:"mx-auto",children:t(E,{listButtons:[{href:`deliveryProof/${e.id}`,icon:t(S,{}),text:"Ver"},{href:`editService/${e.id}`,icon:t(b,{}),text:"Editar"},{href:`pqrs/${e.id}`,icon:t(w,{}),text:"Ayuda"}]})})]})})},{name:"Nombre",grow:2,sortable:!0,selector:e=>e.name},{name:"Tipo",sortable:!0,selector:e=>B(e.id_type_service)},{name:"Estado",sortable:!0,selector:e=>C(e.id_state_service)},{name:"Firmado",sortable:!0,selector:e=>e.signature!=null?"SI":"NO"},{name:"Inicio",sortable:!0,selector:e=>e.start_date},{name:"Fin",sortable:!0,selector:e=>e.end_date!=null?e.end_date:"No ha Finalizado"}];return r.exports.useEffect(()=>{h()},[]),r.exports.useEffect(()=>{const e=c.filter(a=>a.name.toLowerCase().match(i.toLowerCase())||a.tracking_id.match(i));l(e)},[i]),o(d,{children:[o("div",{className:"grid grid-cols-1 gap-4 w-full",children:[t("div",{className:"m-auto",children:t(v,{href:"createService",className:"bg-blue-400",children:t(y,{className:" text-3xl",children:"Nuevo Servicio"})})}),t("div",{className:"m-auto sm:ml-5",children:t("input",{type:"text",placeholder:"Buscar",className:"w-25 form-control rounded-3xl",value:i,onChange:e=>n(e.target.value)})})]}),t(N,{columns:f,data:p,highlightOnHover:!0,fixedHeader:!0,pagination:!0,subHeader:!0,noDataComponent:"No se encontraron resultados",paginationComponentOptions:{rowsPerPageText:"Filas por p\xE1gina",rangeSeparatorText:"de"}})]})};var T=F;function z(s){const[i,n]=r.exports.useState([]);return r.exports.useState(""),r.exports.useState(null),r.exports.useEffect(()=>{m.get("/api/service/create").then(c=>{n(c.data.parameters)})},[]),t(d,{children:t(x,{...s,children:o(g,{className:"sm:m-6 justify-center bg-opacity-30 shadow-xl",children:[t("h1",{className:"text-blue-primary text-3xl mb-1 font-bold  text-center hover:scale-110 ease-in duration-200",children:"Tabla de Servicios"}),t(T,{auth:s.auth})]})})})}export{z as default};
